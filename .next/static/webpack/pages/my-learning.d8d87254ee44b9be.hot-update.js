"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/my-learning",{

/***/ "./src/components/ui/Spinner.tsx":
/*!***************************************!*\
  !*** ./src/components/ui/Spinner.tsx ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Spinner: function() { return /* binding */ Spinner; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Spinner = (param)=>{\n    let { size = \"md\", className = \"\" } = param;\n    const sizeClasses = {\n        sm: \"h-4 w-4 border-2\",\n        md: \"h-8 w-8 border-2\",\n        lg: \"h-12 w-12 border-3\"\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"\".concat(className),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"animate-spin rounded-full \".concat(sizeClasses[size], \" border-t-transparent border-primary\")\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\components\\\\ui\\\\Spinner.tsx\",\n            lineNumber: 20,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\components\\\\ui\\\\Spinner.tsx\",\n        lineNumber: 19,\n        columnNumber: 5\n    }, undefined);\n};\n_c = Spinner;\nvar _c;\n$RefreshReg$(_c, \"Spinner\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy91aS9TcGlubmVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEI7QUFPbkIsTUFBTUMsVUFBa0M7UUFBQyxFQUM5Q0MsT0FBTyxJQUFJLEVBQ1hDLFlBQVksRUFBRSxFQUNmO0lBQ0MsTUFBTUMsY0FBYztRQUNsQkMsSUFBSTtRQUNKQyxJQUFJO1FBQ0pDLElBQUk7SUFDUjtJQUVFLHFCQUNFLDhEQUFDQztRQUFJTCxXQUFXLEdBQWEsT0FBVkE7a0JBQ2pCLDRFQUFDSztZQUNDTCxXQUFXLDZCQUErQyxPQUFsQkMsV0FBVyxDQUFDRixLQUFLLEVBQUM7Ozs7Ozs7Ozs7O0FBSWxFLEVBQUU7S0FqQldEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL3VpL1NwaW5uZXIudHN4PzA0MzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIFNwaW5uZXJQcm9wcyB7XG4gIHNpemU/OiAnc20nIHwgJ21kJyB8ICdsZyc7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IFNwaW5uZXI6IFJlYWN0LkZDPFNwaW5uZXJQcm9wcz4gPSAoe1xuICBzaXplID0gJ21kJywgXG4gIGNsYXNzTmFtZSA9ICcnIFxufSkgPT4ge1xuICBjb25zdCBzaXplQ2xhc3NlcyA9IHtcbiAgICBzbTogJ2gtNCB3LTQgYm9yZGVyLTInLFxuICAgIG1kOiAnaC04IHctOCBib3JkZXItMicsXG4gICAgbGc6ICdoLTEyIHctMTIgYm9yZGVyLTMnLFxufTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9YH0+XG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9e2BhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsICR7c2l6ZUNsYXNzZXNbc2l6ZV19IGJvcmRlci10LXRyYW5zcGFyZW50IGJvcmRlci1wcmltYXJ5YH1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiU3Bpbm5lciIsInNpemUiLCJjbGFzc05hbWUiLCJzaXplQ2xhc3NlcyIsInNtIiwibWQiLCJsZyIsImRpdiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/ui/Spinner.tsx\n"));

/***/ }),

/***/ "./src/pages/my-learning/index.tsx":
/*!*****************************************!*\
  !*** ./src/pages/my-learning/index.tsx ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MyLearningPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _components_layout_MainLayout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/layout/MainLayout */ \"./src/components/layout/MainLayout.tsx\");\n/* harmony import */ var _components_course_catalog_CourseGrid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/course-catalog/CourseGrid */ \"./src/components/course-catalog/CourseGrid.tsx\");\n/* harmony import */ var _components_ui_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/Button */ \"./src/components/ui/Button.tsx\");\n/* harmony import */ var _components_ui_Spinner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/Spinner */ \"./src/components/ui/Spinner.tsx\");\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/context/AuthContext */ \"./src/context/AuthContext.tsx\");\n/* harmony import */ var _services_firebase__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/services/firebase */ \"./src/services/firebase.ts\");\n/* harmony import */ var _services_courseProgressService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/services/courseProgressService */ \"./src/services/courseProgressService.ts\");\n/* harmony import */ var _utils_durationUtils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/utils/durationUtils */ \"./src/utils/durationUtils.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\n// Components\n\n\n\n\n// Hooks\n\n// Services\n\n\n// Utils\n\nconst CACHE_EXPIRY = 60 * 60 * 1000; // 1 hour\nfunction MyLearningPage() {\n    _s();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const { user, loading: authLoading } = (0,_context_AuthContext__WEBPACK_IMPORTED_MODULE_8__.useAuth)();\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        enrolled: [],\n        completed: [],\n        loading: true,\n        error: null,\n        quotaExceeded: false\n    });\n    const fetchUserCourses = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async function() {\n        let useCache = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n        if (!user) {\n            setState((prev)=>({\n                    ...prev,\n                    loading: false,\n                    enrolled: [],\n                    completed: []\n                }));\n            return;\n        }\n        setState((prev)=>({\n                ...prev,\n                loading: true,\n                error: null\n            }));\n        // Check cache\n        if (useCache) {\n            const cached = getCachedCourses(user.uid);\n            if (cached) {\n                setState((prev)=>({\n                        ...prev,\n                        ...cached,\n                        loading: false\n                    }));\n                return;\n            }\n        }\n        try {\n            const { enrolled, completed } = await fetchEnrolledCourses(user.uid);\n            setState((prev)=>({\n                    ...prev,\n                    enrolled,\n                    completed,\n                    loading: false\n                }));\n            cacheCourses(user.uid, {\n                enrolled,\n                completed\n            });\n        } catch (error) {\n            console.error(\"Error fetching courses:\", error);\n            setState((prev)=>({\n                    ...prev,\n                    error: \"Failed to load courses. Please try again.\",\n                    loading: false\n                }));\n        }\n    }, [\n        user\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        void fetchUserCourses(); // Call memoized function, void to handle promise\n    }, [\n        fetchUserCourses\n    ]); // Dependency is the stable fetchUserCourses function\n    // Calculate total learning time (Memoized)\n    const totalLearningTimeHours = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const totalSeconds = [\n            ...state.enrolled,\n            ...state.completed\n        ].reduce((total, course)=>{\n            let seconds = 0;\n            try {\n                if (course.durationDetails) {\n                    seconds = course.durationDetails.totalSeconds || 0;\n                } else if (typeof course.duration === \"string\" && course.duration) {\n                    const parsed = (0,_utils_durationUtils__WEBPACK_IMPORTED_MODULE_11__.parseDurationString)(course.duration);\n                    seconds = (parsed === null || parsed === void 0 ? void 0 : parsed.totalSeconds) || 0;\n                } else if (typeof course.duration === \"number\") {\n                    seconds = course.duration; // Assuming number is total seconds\n                }\n            } catch (e) {\n                // Ignore errors during calculation and default to 0 seconds\n                seconds = 0;\n            }\n            return total + seconds;\n        }, 0);\n        // Round to one decimal place for hours\n        return Math.round(totalSeconds / 3600 * 10) / 10;\n    }, [\n        state.enrolled,\n        state.completed\n    ]);\n    // Calculate progress percentages (Memoized)\n    const progressPercentages = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const totalCourses = state.enrolled.length + state.completed.length;\n        if (totalCourses === 0) return {\n            enrolled: 0,\n            completed: 0\n        };\n        return {\n            enrolled: state.enrolled.length / totalCourses * 100,\n            completed: state.completed.length / totalCourses * 100\n        };\n    }, [\n        state.enrolled,\n        state.completed\n    ]);\n    // Inline ErrorMessage component\n    const ErrorMessage = (param)=>{\n        let { message, onRetry } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-red-50 border-l-4 border-red-400 p-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-shrink-0\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            className: \"h-5 w-5 text-red-400\",\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            viewBox: \"0 0 20 20\",\n                            fill: \"currentColor\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                fillRule: \"evenodd\",\n                                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                                clipRule: \"evenodd\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                lineNumber: 142,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                            lineNumber: 136,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                        lineNumber: 135,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"ml-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-red-700\",\n                                children: message\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                lineNumber: 150,\n                                columnNumber: 11\n                            }, this),\n                            onRetry && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                    variant: \"outline\",\n                                    size: \"sm\",\n                                    onClick: onRetry,\n                                    className: \"text-red-700 hover:bg-red-100\",\n                                    children: \"Try again\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                    lineNumber: 153,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                lineNumber: 152,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                        lineNumber: 149,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                lineNumber: 134,\n                columnNumber: 7\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n            lineNumber: 133,\n            columnNumber: 5\n        }, this);\n    };\n    if (authLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_MainLayout__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-center min-h-[60vh]\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Spinner__WEBPACK_IMPORTED_MODULE_7__.Spinner, {\n                    size: \"lg\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                    lineNumber: 172,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                lineNumber: 171,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n            lineNumber: 170,\n            columnNumber: 7\n        }, this);\n    }\n    if (state.error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_MainLayout__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"max-w-4xl mx-auto p-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ErrorMessage, {\n                    message: state.error,\n                    onRetry: ()=>fetchUserCourses()\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                    lineNumber: 182,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                lineNumber: 181,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n            lineNumber: 180,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_MainLayout__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"text-2xl font-bold text-gray-900\",\n                            children: \"My Learning\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                            lineNumber: 192,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"mt-1 text-sm text-gray-500\",\n                            children: \"Track your course progress and continue learning\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                            lineNumber: 193,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                    lineNumber: 191,\n                    columnNumber: 9\n                }, this),\n                state.loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-center items-center min-h-[400px]\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Spinner__WEBPACK_IMPORTED_MODULE_7__.Spinner, {\n                        size: \"lg\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                        lineNumber: 200,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                    lineNumber: 199,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_course_catalog_CourseGrid__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            title: \"In Progress\",\n                            courses: state.enrolled,\n                            emptyMessage: \"You don't have any courses in progress yet.\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                            lineNumber: 204,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_course_catalog_CourseGrid__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            title: \"Completed\",\n                            courses: state.completed,\n                            emptyMessage: \"You haven't completed any courses yet.\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                            lineNumber: 210,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white rounded-xl shadow-card p-6 mb-12\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-semibold mb-6\",\n                                    children: \"Your Learning Progress\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                    lineNumber: 218,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-primary-50 rounded-lg p-6\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between mb-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                            className: \"font-medium\",\n                                                            children: \"Courses in Progress\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                                            lineNumber: 223,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-2xl font-bold text-primary\",\n                                                            children: state.enrolled.length\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                                            lineNumber: 224,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                                    lineNumber: 222,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-full h-2 bg-white rounded-full overflow-hidden\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"h-full bg-primary\",\n                                                        style: {\n                                                            width: \"\".concat(progressPercentages.enrolled, \"%\")\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                                        lineNumber: 226,\n                                                        columnNumber: 85\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                                    lineNumber: 226,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \" \"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                            lineNumber: 221,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-green-50 rounded-lg p-6\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between mb-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                            className: \"font-medium\",\n                                                            children: \"Completed Courses\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                                            lineNumber: 230,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-2xl font-bold text-green-600\",\n                                                            children: state.completed.length\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                                            lineNumber: 231,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                                    lineNumber: 229,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-full h-2 bg-white rounded-full overflow-hidden\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"h-full bg-green-500\",\n                                                        style: {\n                                                            width: \"\".concat(progressPercentages.completed, \"%\")\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                                        lineNumber: 233,\n                                                        columnNumber: 85\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                                    lineNumber: 233,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \" \"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                            lineNumber: 228,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-blue-50 rounded-lg p-6\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                    className: \"text-sm font-medium text-neutral-500 mb-1\",\n                                                    children: \"Total Learning Time\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                                    lineNumber: 236,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-2xl font-bold text-blue-600\",\n                                                    children: [\n                                                        totalLearningTimeHours,\n                                                        \" hrs\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                                    lineNumber: 237,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \" \"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                            lineNumber: 235,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                                    lineNumber: 220,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                            lineNumber: 217,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n                    lineNumber: 203,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n            lineNumber: 190,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\egcha\\\\Documents\\\\triniloyalty.backup2\\\\SALESCOACHAIIDX2.51-main\\\\training-platform\\\\src\\\\pages\\\\my-learning\\\\index.tsx\",\n        lineNumber: 189,\n        columnNumber: 5\n    }, this);\n}\n_s(MyLearningPage, \"jc+Lv+qZ40F78ByMaffwxkoXUBc=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _context_AuthContext__WEBPACK_IMPORTED_MODULE_8__.useAuth\n    ];\n});\n_c = MyLearningPage;\n// Helper functions for caching\nfunction getCachedCourses(userId) {\n    try {\n        const cached = localStorage.getItem(\"user_courses_\".concat(userId));\n        const timestamp = localStorage.getItem(\"user_courses_timestamp_\".concat(userId));\n        if (!cached || !timestamp) return null;\n        const data = JSON.parse(cached);\n        const age = Date.now() - parseInt(timestamp, 10);\n        if (age < CACHE_EXPIRY) {\n            return {\n                enrolled: data.enrolled,\n                completed: data.completed,\n                quotaExceeded: false\n            };\n        }\n    } catch (error) {\n        console.error(\"Error reading from cache:\", error);\n    }\n    return null;\n}\nfunction cacheCourses(userId, data) {\n    try {\n        const cacheData = {\n            ...data,\n            timestamp: Date.now()\n        };\n        localStorage.setItem(\"user_courses_\".concat(userId), JSON.stringify(cacheData));\n        localStorage.setItem(\"user_courses_timestamp_\".concat(userId), Date.now().toString());\n    } catch (error) {\n        console.error(\"Error caching courses:\", error);\n    }\n}\n// Function to fetch user's enrolled courses\nasync function fetchEnrolledCourses(userId) {\n    // Fetch enrollments (Consider pagination if list can be huge)\n    const enrollmentsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_services_firebase__WEBPACK_IMPORTED_MODULE_9__.firestore, \"users/\".concat(userId, \"/enrollments\"));\n    // Fetch ALL enrollments first, then filter status client-side OR\n    // Query specific statuses if needed (e.g., separate query for 'completed')\n    // Fetching all and sorting locally might be simpler if list isn't massive\n    const enrollmentsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)(enrollmentsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.orderBy)(\"enrolledAt\", \"desc\"));\n    const enrollmentsSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDocs)(enrollmentsQuery);\n    const enrollmentData = enrollmentsSnapshot.docs.map((d)=>{\n        const data = d.data(); // Cast data() to CourseEnrollment\n        return {\n            courseId: data.courseId,\n            courseName: data.courseName,\n            enrolledAt: data.enrolledAt,\n            expiryDate: data.expiryDate,\n            paymentId: data.paymentId,\n            status: data.status,\n            enrollmentId: d.id // Access d.id\n        }; // Explicitly cast return object\n    });\n    // Get unique course IDs from enrollments\n    const courseIds = Array.from(new Set(enrollmentData.map((e)=>e.courseId)));\n    // Fetch course details for these IDs\n    // NOTE: Firestore 'in' query limited to 10 items per query.\n    // If user is enrolled in > 10 courses, batching with multiple 'in' queries is necessary.\n    const courseBatches = [];\n    for(let i = 0; i < courseIds.length; i += 10){\n        courseBatches.push(courseIds.slice(i, i + 10));\n    }\n    const courseResults = [];\n    for (const batch of courseBatches){\n        if (batch.length === 0) continue;\n        try {\n            const coursesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_services_firebase__WEBPACK_IMPORTED_MODULE_9__.firestore, \"courses\");\n            const coursesQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)(coursesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.where)(\"__name__\", \"in\", batch)); // Use __name__ for document ID\n            const coursesSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDocs)(coursesQuery);\n            // Using a traditional for loop for explicit typing\n            for(let i = 0; i < coursesSnapshot.docs.length; i++){\n                const docSnap = coursesSnapshot.docs[i];\n                const docId = docSnap.id; // Explicitly get id\n                if (docSnap.exists()) {\n                    const courseData = docSnap.data();\n                    courseResults.push({\n                        ...courseData,\n                        id: docId\n                    });\n                } else {\n                    console.warn(\"Course document not found for ID: \".concat(docId));\n                }\n            }\n        } catch (err) {\n            console.error(\"Error fetching course details for batch \".concat(batch.join(\",\"), \":\"), err);\n        // Depending on error handling strategy, you might want to throw or handle partial failures\n        }\n    }\n    const coursesMap = new Map(courseResults.map((c)=>[\n            c.id,\n            c\n        ]));\n    // Filter enrollments to only include those for which we found course details\n    const relevantEnrollments = enrollmentData.filter((enrollment)=>coursesMap.has(enrollment.courseId));\n    // Fetch progress and combine with course details for relevant enrollments\n    const coursesWithProgressPromises = relevantEnrollments.map(async (enrollment)=>{\n        const courseDetail = coursesMap.get(enrollment.courseId); // Use non-null assertion as we filtered\n        // Fetch progress using the service\n        const progressData = await (0,_services_courseProgressService__WEBPACK_IMPORTED_MODULE_10__.getCourseProgress)(userId, enrollment.courseId);\n        const progressPercentage = (progressData === null || progressData === void 0 ? void 0 : progressData.overallProgress) || 0;\n        return {\n            ...courseDetail,\n            progress: progressPercentage,\n            // Ensure all necessary fields are included from courseDetail\n            modulesList: courseDetail.modulesList,\n            durationDetails: courseDetail.durationDetails,\n            enrolledCount: courseDetail.enrolledCount,\n            reviewCount: courseDetail.reviewCount,\n            rating: courseDetail.rating\n        }; // Explicitly cast the result of the map\n    });\n    const coursesWithProgress = await Promise.all(coursesWithProgressPromises);\n    // Filter out any potential null or undefined values and ensure 'id' exists\n    const validCoursesWithProgress = coursesWithProgress.filter((course)=>course != null && typeof course.id === \"string\" && course.id.length > 0);\n    // Separate into enrolled (active, progress < 100) and completed\n    const enrolled = [];\n    const completed = [];\n    validCoursesWithProgress.forEach((course)=>{\n        // Define completed based on progress OR enrollment status if available\n        const enrollment = enrollmentData.find((e)=>e.courseId === course.id);\n        const isCompleted = course.progress >= 100 || (enrollment === null || enrollment === void 0 ? void 0 : enrollment.status) === \"completed\";\n        // Define in-progress based on active status AND progress < 100\n        const isInProgress = (enrollment === null || enrollment === void 0 ? void 0 : enrollment.status) === \"active\" && course.progress < 100;\n        if (isCompleted) {\n            // Ensure progress is 100 if marked completed\n            completed.push({\n                ...course,\n                progress: 100\n            });\n        } else if (isInProgress) {\n            enrolled.push(course);\n        }\n    // Courses that are inactive and not completed won't appear in either list\n    });\n    // Deduplicate completed courses (if multiple completed enrollments exist for one course)\n    const uniqueCompleted = Array.from(completed.reduce((map, course)=>{\n        if (!map.has(course.id)) {\n            map.set(course.id, course);\n        }\n        return map;\n    }, new Map()).values());\n    return {\n        enrolled,\n        completed: uniqueCompleted\n    };\n}\nvar _c;\n$RefreshReg$(_c, \"MyLearningPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTSxDQUFDLENBQUMwRCxLQUFLeEQ7UUFDckIsSUFBSSxDQUFDd0QsSUFBSW9DLEdBQUcsQ0FBQzVGLE9BQU9nRSxFQUFFLEdBQUc7WUFDdkJSLElBQUl5RCxHQUFHLENBQUNqSCxPQUFPZ0UsRUFBRSxFQUFFaEU7UUFDckI7UUFDQSxPQUFPd0Q7SUFDVCxHQUFHLElBQUkrQixPQUFtQzJCLE1BQU07SUFHbEQsT0FBTztRQUFFbkk7UUFBVUMsV0FBV2dJO0lBQWdCO0FBQ2hEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9wYWdlcy9teS1sZWFybmluZy9pbmRleC50c3g/OTZkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQgeyBjb2xsZWN0aW9uLCBxdWVyeSwgd2hlcmUsIG9yZGVyQnksIGdldERvY3MsIFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCwgRG9jdW1lbnREYXRhIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcblxuLy8gQ29tcG9uZW50c1xuaW1wb3J0IE1haW5MYXlvdXQgZnJvbSAnQC9jb21wb25lbnRzL2xheW91dC9NYWluTGF5b3V0JztcbmltcG9ydCBDb3Vyc2VHcmlkIGZyb20gJ0AvY29tcG9uZW50cy9jb3Vyc2UtY2F0YWxvZy9Db3Vyc2VHcmlkJztcbmltcG9ydCBCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL3VpL0J1dHRvbic7XG5pbXBvcnQgeyBTcGlubmVyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL1NwaW5uZXInO1xuXG4vLyBUeXBlc1xuaW1wb3J0IHsgQ291cnNlLCBDb3Vyc2VFbnJvbGxtZW50LCBDb3Vyc2VXaXRoUHJvZ3Jlc3MgfSBmcm9tICdAL3R5cGVzL2NvdXJzZS50eXBlcyc7XG5cbi8vIEhvb2tzXG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnQC9jb250ZXh0L0F1dGhDb250ZXh0JztcblxuLy8gU2VydmljZXNcbmltcG9ydCB7IGZpcmVzdG9yZSB9IGZyb20gJ0Avc2VydmljZXMvZmlyZWJhc2UnO1xuaW1wb3J0IHsgZ2V0Q291cnNlUHJvZ3Jlc3MgfSBmcm9tICdAL3NlcnZpY2VzL2NvdXJzZVByb2dyZXNzU2VydmljZSc7XG5cbi8vIFV0aWxzXG5pbXBvcnQgeyBwYXJzZUR1cmF0aW9uU3RyaW5nIH0gZnJvbSAnQC91dGlscy9kdXJhdGlvblV0aWxzJztcblxuLy8gVHlwZXNcbmludGVyZmFjZSBDYWNoZWRVc2VyQ291cnNlcyB7XG4gIGVucm9sbGVkOiBDb3Vyc2VXaXRoUHJvZ3Jlc3NbXTtcbiAgY29tcGxldGVkOiBDb3Vyc2VXaXRoUHJvZ3Jlc3NbXTtcbiAgdGltZXN0YW1wOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBMZWFybmluZ1BhZ2VTdGF0ZSB7XG4gIGVucm9sbGVkOiBDb3Vyc2VXaXRoUHJvZ3Jlc3NbXTtcbiAgY29tcGxldGVkOiBDb3Vyc2VXaXRoUHJvZ3Jlc3NbXTtcbiAgbG9hZGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIHF1b3RhRXhjZWVkZWQ6IGJvb2xlYW47XG59XG5cbmNvbnN0IENBQ0hFX0VYUElSWSA9IDYwICogNjAgKiAxMDAwOyAvLyAxIGhvdXJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTXlMZWFybmluZ1BhZ2UoKSB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCB7IHVzZXIsIGxvYWRpbmc6IGF1dGhMb2FkaW5nIH0gPSB1c2VBdXRoKCk7XG5cbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZTxMZWFybmluZ1BhZ2VTdGF0ZT4oe1xuICAgIGVucm9sbGVkOiBbXSxcbiAgICBjb21wbGV0ZWQ6IFtdLFxuICAgIGxvYWRpbmc6IHRydWUsXG4gICAgZXJyb3I6IG51bGwsXG4gICAgcXVvdGFFeGNlZWRlZDogZmFsc2UsXG4gIH0pO1xuXG4gIGNvbnN0IGZldGNoVXNlckNvdXJzZXMgPSB1c2VDYWxsYmFjayhhc3luYyAodXNlQ2FjaGUgPSB0cnVlKSA9PiB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGxvYWRpbmc6IGZhbHNlLCBlbnJvbGxlZDogW10sIGNvbXBsZXRlZDogW10gfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgbG9hZGluZzogdHJ1ZSwgZXJyb3I6IG51bGwgfSkpO1xuXG4gICAgLy8gQ2hlY2sgY2FjaGVcbiAgICBpZiAodXNlQ2FjaGUpIHtcbiAgICAgIGNvbnN0IGNhY2hlZCA9IGdldENhY2hlZENvdXJzZXModXNlci51aWQpO1xuICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAuLi5jYWNoZWQsXG4gICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZW5yb2xsZWQsIGNvbXBsZXRlZCB9ID0gYXdhaXQgZmV0Y2hFbnJvbGxlZENvdXJzZXModXNlci51aWQpO1xuICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBlbnJvbGxlZCxcbiAgICAgICAgY29tcGxldGVkLFxuICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgIH0pKTtcbiAgICAgIGNhY2hlQ291cnNlcyh1c2VyLnVpZCwgeyBlbnJvbGxlZCwgY29tcGxldGVkIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjb3Vyc2VzOicsIGVycm9yKTtcbiAgICAgIHNldFN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gbG9hZCBjb3Vyc2VzLiBQbGVhc2UgdHJ5IGFnYWluLicsXG4gICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgfSkpO1xuICAgIH1cbiAgfSwgW3VzZXJdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZvaWQgZmV0Y2hVc2VyQ291cnNlcygpOyAvLyBDYWxsIG1lbW9pemVkIGZ1bmN0aW9uLCB2b2lkIHRvIGhhbmRsZSBwcm9taXNlXG4gIH0sIFtmZXRjaFVzZXJDb3Vyc2VzXSk7IC8vIERlcGVuZGVuY3kgaXMgdGhlIHN0YWJsZSBmZXRjaFVzZXJDb3Vyc2VzIGZ1bmN0aW9uXG5cbiAgLy8gQ2FsY3VsYXRlIHRvdGFsIGxlYXJuaW5nIHRpbWUgKE1lbW9pemVkKVxuICBjb25zdCB0b3RhbExlYXJuaW5nVGltZUhvdXJzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgdG90YWxTZWNvbmRzID0gWy4uLnN0YXRlLmVucm9sbGVkLCAuLi5zdGF0ZS5jb21wbGV0ZWRdLnJlZHVjZSgodG90YWwsIGNvdXJzZSkgPT4ge1xuICAgICAgbGV0IHNlY29uZHMgPSAwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGNvdXJzZS5kdXJhdGlvbkRldGFpbHMpIHtcbiAgICAgICAgICBzZWNvbmRzID0gY291cnNlLmR1cmF0aW9uRGV0YWlscy50b3RhbFNlY29uZHMgfHwgMDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY291cnNlLmR1cmF0aW9uID09PSAnc3RyaW5nJyAmJiBjb3Vyc2UuZHVyYXRpb24pIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUR1cmF0aW9uU3RyaW5nKGNvdXJzZS5kdXJhdGlvbik7XG4gICAgICAgICAgc2Vjb25kcyA9IHBhcnNlZD8udG90YWxTZWNvbmRzIHx8IDA7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvdXJzZS5kdXJhdGlvbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzZWNvbmRzID0gY291cnNlLmR1cmF0aW9uOyAvLyBBc3N1bWluZyBudW1iZXIgaXMgdG90YWwgc2Vjb25kc1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gSWdub3JlIGVycm9ycyBkdXJpbmcgY2FsY3VsYXRpb24gYW5kIGRlZmF1bHQgdG8gMCBzZWNvbmRzXG4gICAgICAgIHNlY29uZHMgPSAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRvdGFsICsgc2Vjb25kcztcbiAgICB9LCAwKTtcbiAgICAvLyBSb3VuZCB0byBvbmUgZGVjaW1hbCBwbGFjZSBmb3IgaG91cnNcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgodG90YWxTZWNvbmRzIC8gMzYwMCkgKiAxMCkgLyAxMDtcbiAgfSwgW3N0YXRlLmVucm9sbGVkLCBzdGF0ZS5jb21wbGV0ZWRdKTtcblxuICAvLyBDYWxjdWxhdGUgcHJvZ3Jlc3MgcGVyY2VudGFnZXMgKE1lbW9pemVkKVxuICBjb25zdCBwcm9ncmVzc1BlcmNlbnRhZ2VzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgdG90YWxDb3Vyc2VzID0gc3RhdGUuZW5yb2xsZWQubGVuZ3RoICsgc3RhdGUuY29tcGxldGVkLmxlbmd0aDtcbiAgICBpZiAodG90YWxDb3Vyc2VzID09PSAwKSByZXR1cm4geyBlbnJvbGxlZDogMCwgY29tcGxldGVkOiAwIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIGVucm9sbGVkOiAoc3RhdGUuZW5yb2xsZWQubGVuZ3RoIC8gdG90YWxDb3Vyc2VzKSAqIDEwMCxcbiAgICAgIGNvbXBsZXRlZDogKHN0YXRlLmNvbXBsZXRlZC5sZW5ndGggLyB0b3RhbENvdXJzZXMpICogMTAwLFxuICAgIH07XG4gIH0sIFtzdGF0ZS5lbnJvbGxlZCwgc3RhdGUuY29tcGxldGVkXSk7XG5cbiAgLy8gSW5saW5lIEVycm9yTWVzc2FnZSBjb21wb25lbnRcbiAgY29uc3QgRXJyb3JNZXNzYWdlID0gKHsgbWVzc2FnZSwgb25SZXRyeSB9OiB7IG1lc3NhZ2U6IHN0cmluZzsgb25SZXRyeT86ICgpID0+IHZvaWQgfSkgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLTUwIGJvcmRlci1sLTQgYm9yZGVyLXJlZC00MDAgcC00XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC01IHctNSB0ZXh0LXJlZC00MDBcIlxuICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDIwIDIwXCJcbiAgICAgICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgIGZpbGxSdWxlPVwiZXZlbm9kZFwiXG4gICAgICAgICAgICAgIGQ9XCJNMTAgMThhOCA4IDAgMTAwLTE2IDggOCAwIDAwMCAxNnpNOC43MDcgNy4yOTNhMSAxIDAgMDAtMS40MTQgMS40MTRMOC41ODYgMTBsLTEuMjkzIDEuMjkzYTEgMSAwIDEwMS40MTQgMS40MTRMMTAgMTEuNDE0bDEuMjkzIDEuMjkzYTEgMSAwIDAwMS40MTQtMS40MTRMMTEuNDE0IDEwbDEuMjkzLTEuMjkzYTEgMSAwIDAwLTEuNDE0LTEuNDE0TDEwIDguNTg2IDguNzA3IDcuMjkzelwiXG4gICAgICAgICAgICAgIGNsaXBSdWxlPVwiZXZlbm9kZFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0zXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC03MDBcIj57bWVzc2FnZX08L3A+XG4gICAgICAgICAge29uUmV0cnkgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yXCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblJldHJ5fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtcmVkLTcwMCBob3ZlcjpiZy1yZWQtMTAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFRyeSBhZ2FpblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG5cbiAgaWYgKGF1dGhMb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNYWluTGF5b3V0PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi1oLVs2MHZoXVwiPlxuICAgICAgICAgIDxTcGlubmVyIHNpemU9XCJsZ1wiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9NYWluTGF5b3V0PlxuICAgICk7XG4gIH1cblxuICBpZiAoc3RhdGUuZXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1haW5MYXlvdXQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gcC02XCI+XG4gICAgICAgICAgPEVycm9yTWVzc2FnZSBtZXNzYWdlPXtzdGF0ZS5lcnJvcn0gb25SZXRyeT17KCkgPT4gZmV0Y2hVc2VyQ291cnNlcygpfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTWFpbkxheW91dD5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8TWFpbkxheW91dD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctN3hsIG14LWF1dG8gcHgtNCBzbTpweC02IGxnOnB4LTggcHktOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLThcIj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIj5NeSBMZWFybmluZzwvaDE+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgIFRyYWNrIHlvdXIgY291cnNlIHByb2dyZXNzIGFuZCBjb250aW51ZSBsZWFybmluZ1xuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge3N0YXRlLmxvYWRpbmcgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBtaW4taC1bNDAwcHhdXCI+XG4gICAgICAgICAgICA8U3Bpbm5lciBzaXplPVwibGdcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS04XCI+XG4gICAgICAgICAgICA8Q291cnNlR3JpZFxuICAgICAgICAgICAgICB0aXRsZT1cIkluIFByb2dyZXNzXCJcbiAgICAgICAgICAgICAgY291cnNlcz17c3RhdGUuZW5yb2xsZWR9XG4gICAgICAgICAgICAgIGVtcHR5TWVzc2FnZT1cIllvdSBkb24ndCBoYXZlIGFueSBjb3Vyc2VzIGluIHByb2dyZXNzIHlldC5cIlxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgPENvdXJzZUdyaWRcbiAgICAgICAgICAgICAgdGl0bGU9XCJDb21wbGV0ZWRcIlxuICAgICAgICAgICAgICBjb3Vyc2VzPXtzdGF0ZS5jb21wbGV0ZWR9XG4gICAgICAgICAgICAgIGVtcHR5TWVzc2FnZT1cIllvdSBoYXZlbid0IGNvbXBsZXRlZCBhbnkgY291cnNlcyB5ZXQuXCJcbiAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgIHsvKiBQcm9ncmVzcyBTdW1tYXJ5ICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIHNoYWRvdy1jYXJkIHAtNiBtYi0xMlwiPlxuICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1zZW1pYm9sZCBtYi02XCI+WW91ciBMZWFybmluZyBQcm9ncmVzczwvaDI+XG4gICAgICAgICAgICAgIHsvKiBBY3R1YWwgUHJvZ3Jlc3MgU3VtbWFyeSBDb250ZW50ICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTMgZ2FwLTZcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXByaW1hcnktNTAgcm91bmRlZC1sZyBwLTZcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+Q291cnNlcyBpbiBQcm9ncmVzczwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXByaW1hcnlcIj57c3RhdGUuZW5yb2xsZWQubGVuZ3RofTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0yIGJnLXdoaXRlIHJvdW5kZWQtZnVsbCBvdmVyZmxvdy1oaWRkZW5cIj48ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBiZy1wcmltYXJ5XCIgc3R5bGU9e3sgd2lkdGg6IGAke3Byb2dyZXNzUGVyY2VudGFnZXMuZW5yb2xsZWR9JWAgfX0+PC9kaXY+PC9kaXY+IHsvKiBVc2UgbWVtb2l6ZWQgdmFsdWUgKi99XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmVlbi01MCByb3VuZGVkLWxnIHAtNlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5Db21wbGV0ZWQgQ291cnNlczwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyZWVuLTYwMFwiPntzdGF0ZS5jb21wbGV0ZWQubGVuZ3RofTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0yIGJnLXdoaXRlIHJvdW5kZWQtZnVsbCBvdmVyZmxvdy1oaWRkZW5cIj48ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBiZy1ncmVlbi01MDBcIiBzdHlsZT17eyB3aWR0aDogYCR7cHJvZ3Jlc3NQZXJjZW50YWdlcy5jb21wbGV0ZWR9JWAgfX0+PC9kaXY+PC9kaXY+IHsvKiBVc2UgbWVtb2l6ZWQgdmFsdWUgKi99XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibHVlLTUwIHJvdW5kZWQtbGcgcC02XCI+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LW5ldXRyYWwtNTAwIG1iLTFcIj5Ub3RhbCBMZWFybmluZyBUaW1lPC9oMz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWJsdWUtNjAwXCI+e3RvdGFsTGVhcm5pbmdUaW1lSG91cnN9IGhyczwvc3Bhbj4gey8qIFVzZSBtZW1vaXplZCB2YWx1ZSAqL31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvTWFpbkxheW91dD5cbiAgKTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgY2FjaGluZ1xuZnVuY3Rpb24gZ2V0Q2FjaGVkQ291cnNlcyh1c2VySWQ6IHN0cmluZyk6IE9taXQ8TGVhcm5pbmdQYWdlU3RhdGUsICdsb2FkaW5nJyB8ICdlcnJvcic+IHwgbnVsbCB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2FjaGVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYHVzZXJfY291cnNlc18ke3VzZXJJZH1gKTtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgdXNlcl9jb3Vyc2VzX3RpbWVzdGFtcF8ke3VzZXJJZH1gKTtcblxuICAgIGlmICghY2FjaGVkIHx8ICF0aW1lc3RhbXApIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoY2FjaGVkKSBhcyBDYWNoZWRVc2VyQ291cnNlcztcbiAgICBjb25zdCBhZ2UgPSBEYXRlLm5vdygpIC0gcGFyc2VJbnQodGltZXN0YW1wLCAxMCk7XG5cbiAgICBpZiAoYWdlIDwgQ0FDSEVfRVhQSVJZKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbnJvbGxlZDogZGF0YS5lbnJvbGxlZCxcbiAgICAgICAgY29tcGxldGVkOiBkYXRhLmNvbXBsZXRlZCxcbiAgICAgICAgcXVvdGFFeGNlZWRlZDogZmFsc2UsXG4gICAgICB9O1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWFkaW5nIGZyb20gY2FjaGU6JywgZXJyb3IpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBjYWNoZUNvdXJzZXModXNlcklkOiBzdHJpbmcsIGRhdGE6IHsgZW5yb2xsZWQ6IENvdXJzZVdpdGhQcm9ncmVzc1tdOyBjb21wbGV0ZWQ6IENvdXJzZVdpdGhQcm9ncmVzc1tdIH0pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjYWNoZURhdGE6IENhY2hlZFVzZXJDb3Vyc2VzID0ge1xuICAgICAgLi4uZGF0YSxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB9O1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGB1c2VyX2NvdXJzZXNfJHt1c2VySWR9YCwgSlNPTi5zdHJpbmdpZnkoY2FjaGVEYXRhKSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYHVzZXJfY291cnNlc190aW1lc3RhbXBfJHt1c2VySWR9YCwgRGF0ZS5ub3coKS50b1N0cmluZygpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYWNoaW5nIGNvdXJzZXM6JywgZXJyb3IpO1xuICB9XG59XG5cbi8vIEZ1bmN0aW9uIHRvIGZldGNoIHVzZXIncyBlbnJvbGxlZCBjb3Vyc2VzXG5hc3luYyBmdW5jdGlvbiBmZXRjaEVucm9sbGVkQ291cnNlcyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8eyBlbnJvbGxlZDogQ291cnNlV2l0aFByb2dyZXNzW107IGNvbXBsZXRlZDogQ291cnNlV2l0aFByb2dyZXNzW10gfT4ge1xuICAvLyBGZXRjaCBlbnJvbGxtZW50cyAoQ29uc2lkZXIgcGFnaW5hdGlvbiBpZiBsaXN0IGNhbiBiZSBodWdlKVxuICBjb25zdCBlbnJvbGxtZW50c1JlZiA9IGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBgdXNlcnMvJHt1c2VySWR9L2Vucm9sbG1lbnRzYCk7XG4gIC8vIEZldGNoIEFMTCBlbnJvbGxtZW50cyBmaXJzdCwgdGhlbiBmaWx0ZXIgc3RhdHVzIGNsaWVudC1zaWRlIE9SXG4gIC8vIFF1ZXJ5IHNwZWNpZmljIHN0YXR1c2VzIGlmIG5lZWRlZCAoZS5nLiwgc2VwYXJhdGUgcXVlcnkgZm9yICdjb21wbGV0ZWQnKVxuICAvLyBGZXRjaGluZyBhbGwgYW5kIHNvcnRpbmcgbG9jYWxseSBtaWdodCBiZSBzaW1wbGVyIGlmIGxpc3QgaXNuJ3QgbWFzc2l2ZVxuICBjb25zdCBlbnJvbGxtZW50c1F1ZXJ5ID0gcXVlcnkoZW5yb2xsbWVudHNSZWYsIG9yZGVyQnkoJ2Vucm9sbGVkQXQnLCAnZGVzYycpKTtcbiAgY29uc3QgZW5yb2xsbWVudHNTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoZW5yb2xsbWVudHNRdWVyeSk7XG4gIGNvbnN0IGVucm9sbG1lbnREYXRhID0gKGVucm9sbG1lbnRzU25hcHNob3QuZG9jcykubWFwKGQgPT4gey8vIEV4cGxpY2l0bHkgYXNzZXJ0IGRvY3MgdHlwZSBhbmQgbWFwXG4gICAgY29uc3QgZGF0YSA9IGQuZGF0YSgpIGFzIENvdXJzZUVucm9sbG1lbnQ7IC8vIENhc3QgZGF0YSgpIHRvIENvdXJzZUVucm9sbG1lbnRcbiAgICByZXR1cm4ge1xuICAgICAgY291cnNlSWQ6IGRhdGEuY291cnNlSWQsXG4gICAgICBjb3Vyc2VOYW1lOiBkYXRhLmNvdXJzZU5hbWUsXG4gICAgICBlbnJvbGxlZEF0OiBkYXRhLmVucm9sbGVkQXQsXG4gICAgICBleHBpcnlEYXRlOiBkYXRhLmV4cGlyeURhdGUsXG4gICAgICBwYXltZW50SWQ6IGRhdGEucGF5bWVudElkLFxuICAgICAgc3RhdHVzOiBkYXRhLnN0YXR1cyxcbiAgICAgIGVucm9sbG1lbnRJZDogZC5pZCAvLyBBY2Nlc3MgZC5pZFxuICAgIH0gYXMgQ291cnNlRW5yb2xsbWVudCAmIHsgZW5yb2xsbWVudElkOiBzdHJpbmcgfTsgLy8gRXhwbGljaXRseSBjYXN0IHJldHVybiBvYmplY3RcbiAgfSk7XG5cbiAgLy8gR2V0IHVuaXF1ZSBjb3Vyc2UgSURzIGZyb20gZW5yb2xsbWVudHNcbiAgY29uc3QgY291cnNlSWRzID0gQXJyYXkuZnJvbShuZXcgU2V0KGVucm9sbG1lbnREYXRhLm1hcChlID0+IGUuY291cnNlSWQpKSk7XG5cbiAgLy8gRmV0Y2ggY291cnNlIGRldGFpbHMgZm9yIHRoZXNlIElEc1xuICAvLyBOT1RFOiBGaXJlc3RvcmUgJ2luJyBxdWVyeSBsaW1pdGVkIHRvIDEwIGl0ZW1zIHBlciBxdWVyeS5cbiAgLy8gSWYgdXNlciBpcyBlbnJvbGxlZCBpbiA+IDEwIGNvdXJzZXMsIGJhdGNoaW5nIHdpdGggbXVsdGlwbGUgJ2luJyBxdWVyaWVzIGlzIG5lY2Vzc2FyeS5cbiAgY29uc3QgY291cnNlQmF0Y2hlcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdXJzZUlkcy5sZW5ndGg7IGkgKz0gMTApIHtcbiAgICBjb3Vyc2VCYXRjaGVzLnB1c2goY291cnNlSWRzLnNsaWNlKGksIGkgKyAxMCkpO1xuICB9XG5cbiAgY29uc3QgY291cnNlUmVzdWx0czogQ291cnNlW10gPSBbXTtcbiAgZm9yIChjb25zdCBiYXRjaCBvZiBjb3Vyc2VCYXRjaGVzKSB7XG4gICAgaWYgKGJhdGNoLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvdXJzZXNSZWYgPSBjb2xsZWN0aW9uKGZpcmVzdG9yZSwgJ2NvdXJzZXMnKTtcbiAgICAgIGNvbnN0IGNvdXJzZXNRdWVyeSA9IHF1ZXJ5KGNvdXJzZXNSZWYsIHdoZXJlKCdfX25hbWVfXycsICdpbicsIGJhdGNoKSk7IC8vIFVzZSBfX25hbWVfXyBmb3IgZG9jdW1lbnQgSURcbiAgICAgIGNvbnN0IGNvdXJzZXNTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY291cnNlc1F1ZXJ5KTtcbiAgICAgIC8vIFVzaW5nIGEgdHJhZGl0aW9uYWwgZm9yIGxvb3AgZm9yIGV4cGxpY2l0IHR5cGluZ1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3Vyc2VzU25hcHNob3QuZG9jcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBkb2NTbmFwOiBRdWVyeURvY3VtZW50U25hcHNob3Q8RG9jdW1lbnREYXRhPiA9IGNvdXJzZXNTbmFwc2hvdC5kb2NzW2ldO1xuICAgICAgICBjb25zdCBkb2NJZDogc3RyaW5nID0gZG9jU25hcC5pZDsgLy8gRXhwbGljaXRseSBnZXQgaWRcblxuICAgICAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xuICAgICAgICAgIGNvbnN0IGNvdXJzZURhdGEgPSBkb2NTbmFwLmRhdGEoKTtcbiAgICAgICAgICBjb3Vyc2VSZXN1bHRzLnB1c2goeyAuLi5jb3Vyc2VEYXRhLCBpZDogZG9jSWQgfSBhcyBDb3Vyc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgQ291cnNlIGRvY3VtZW50IG5vdCBmb3VuZCBmb3IgSUQ6ICR7ZG9jSWR9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIGNvdXJzZSBkZXRhaWxzIGZvciBiYXRjaCAke2JhdGNoLmpvaW4oJywnKX06YCwgZXJyKTtcbiAgICAgIC8vIERlcGVuZGluZyBvbiBlcnJvciBoYW5kbGluZyBzdHJhdGVneSwgeW91IG1pZ2h0IHdhbnQgdG8gdGhyb3cgb3IgaGFuZGxlIHBhcnRpYWwgZmFpbHVyZXNcbiAgICB9XG4gIH1cblxuICBjb25zdCBjb3Vyc2VzTWFwID0gbmV3IE1hcChjb3Vyc2VSZXN1bHRzLm1hcChjID0+IFtjLmlkLCBjXSkpO1xuXG4gIC8vIEZpbHRlciBlbnJvbGxtZW50cyB0byBvbmx5IGluY2x1ZGUgdGhvc2UgZm9yIHdoaWNoIHdlIGZvdW5kIGNvdXJzZSBkZXRhaWxzXG4gIGNvbnN0IHJlbGV2YW50RW5yb2xsbWVudHMgPSBlbnJvbGxtZW50RGF0YS5maWx0ZXIoZW5yb2xsbWVudCA9PiBjb3Vyc2VzTWFwLmhhcyhlbnJvbGxtZW50LmNvdXJzZUlkKSk7XG5cbiAgLy8gRmV0Y2ggcHJvZ3Jlc3MgYW5kIGNvbWJpbmUgd2l0aCBjb3Vyc2UgZGV0YWlscyBmb3IgcmVsZXZhbnQgZW5yb2xsbWVudHNcbiAgY29uc3QgY291cnNlc1dpdGhQcm9ncmVzc1Byb21pc2VzID0gcmVsZXZhbnRFbnJvbGxtZW50cy5tYXAoYXN5bmMgZW5yb2xsbWVudCA9PiB7XG4gICAgY29uc3QgY291cnNlRGV0YWlsID0gY291cnNlc01hcC5nZXQoZW5yb2xsbWVudC5jb3Vyc2VJZCkhOyAvLyBVc2Ugbm9uLW51bGwgYXNzZXJ0aW9uIGFzIHdlIGZpbHRlcmVkXG4gICAgLy8gRmV0Y2ggcHJvZ3Jlc3MgdXNpbmcgdGhlIHNlcnZpY2VcbiAgICBjb25zdCBwcm9ncmVzc0RhdGEgPSBhd2FpdCBnZXRDb3Vyc2VQcm9ncmVzcyh1c2VySWQsIGVucm9sbG1lbnQuY291cnNlSWQpO1xuICAgIGNvbnN0IHByb2dyZXNzUGVyY2VudGFnZSA9IHByb2dyZXNzRGF0YT8ub3ZlcmFsbFByb2dyZXNzIHx8IDA7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uY291cnNlRGV0YWlsLFxuICAgICAgcHJvZ3Jlc3M6IHByb2dyZXNzUGVyY2VudGFnZSxcbiAgICAgIC8vIEVuc3VyZSBhbGwgbmVjZXNzYXJ5IGZpZWxkcyBhcmUgaW5jbHVkZWQgZnJvbSBjb3Vyc2VEZXRhaWxcbiAgICAgIG1vZHVsZXNMaXN0OiBjb3Vyc2VEZXRhaWwubW9kdWxlc0xpc3QsXG4gICAgICBkdXJhdGlvbkRldGFpbHM6IGNvdXJzZURldGFpbC5kdXJhdGlvbkRldGFpbHMsXG4gICAgICBlbnJvbGxlZENvdW50OiBjb3Vyc2VEZXRhaWwuZW5yb2xsZWRDb3VudCxcbiAgICAgIHJldmlld0NvdW50OiBjb3Vyc2VEZXRhaWwucmV2aWV3Q291bnQsXG4gICAgICByYXRpbmc6IGNvdXJzZURldGFpbC5yYXRpbmcsXG4gICAgfSBhcyBDb3Vyc2VXaXRoUHJvZ3Jlc3M7IC8vIEV4cGxpY2l0bHkgY2FzdCB0aGUgcmVzdWx0IG9mIHRoZSBtYXBcbiAgfSk7XG5cbiAgY29uc3QgY291cnNlc1dpdGhQcm9ncmVzcyA9IGF3YWl0IFByb21pc2UuYWxsKGNvdXJzZXNXaXRoUHJvZ3Jlc3NQcm9taXNlcyk7XG5cbiAgLy8gRmlsdGVyIG91dCBhbnkgcG90ZW50aWFsIG51bGwgb3IgdW5kZWZpbmVkIHZhbHVlcyBhbmQgZW5zdXJlICdpZCcgZXhpc3RzXG4gIGNvbnN0IHZhbGlkQ291cnNlc1dpdGhQcm9ncmVzcyA9IGNvdXJzZXNXaXRoUHJvZ3Jlc3MuZmlsdGVyKFxuICAgIChjb3Vyc2UpOiBjb3Vyc2UgaXMgQ291cnNlV2l0aFByb2dyZXNzID0+IGNvdXJzZSAhPSBudWxsICYmIHR5cGVvZiBjb3Vyc2UuaWQgPT09ICdzdHJpbmcnICYmIGNvdXJzZS5pZC5sZW5ndGggPiAwXG4gICk7XG5cbiAgLy8gU2VwYXJhdGUgaW50byBlbnJvbGxlZCAoYWN0aXZlLCBwcm9ncmVzcyA8IDEwMCkgYW5kIGNvbXBsZXRlZFxuICBjb25zdCBlbnJvbGxlZDogQ291cnNlV2l0aFByb2dyZXNzW10gPSBbXTtcbiAgY29uc3QgY29tcGxldGVkOiBDb3Vyc2VXaXRoUHJvZ3Jlc3NbXSA9IFtdO1xuXG4gIHZhbGlkQ291cnNlc1dpdGhQcm9ncmVzcy5mb3JFYWNoKChjb3Vyc2U6IENvdXJzZVdpdGhQcm9ncmVzcykgPT4ge1xuICAgIC8vIERlZmluZSBjb21wbGV0ZWQgYmFzZWQgb24gcHJvZ3Jlc3MgT1IgZW5yb2xsbWVudCBzdGF0dXMgaWYgYXZhaWxhYmxlXG4gICAgY29uc3QgZW5yb2xsbWVudCA9IGVucm9sbG1lbnREYXRhLmZpbmQoZSA9PiBlLmNvdXJzZUlkID09PSBjb3Vyc2UuaWQpO1xuICAgIGNvbnN0IGlzQ29tcGxldGVkID0gKGNvdXJzZS5wcm9ncmVzcyA+PSAxMDApIHx8IChlbnJvbGxtZW50Py5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKTtcbiAgICAvLyBEZWZpbmUgaW4tcHJvZ3Jlc3MgYmFzZWQgb24gYWN0aXZlIHN0YXR1cyBBTkQgcHJvZ3Jlc3MgPCAxMDBcbiAgICBjb25zdCBpc0luUHJvZ3Jlc3MgPSAoZW5yb2xsbWVudD8uc3RhdHVzID09PSAnYWN0aXZlJykgJiYgKGNvdXJzZS5wcm9ncmVzcyA8IDEwMCk7XG5cbiAgICBpZiAoaXNDb21wbGV0ZWQpIHtcbiAgICAgIC8vIEVuc3VyZSBwcm9ncmVzcyBpcyAxMDAgaWYgbWFya2VkIGNvbXBsZXRlZFxuICAgICAgY29tcGxldGVkLnB1c2goeyAuLi5jb3Vyc2UsIHByb2dyZXNzOiAxMDAgfSk7XG4gICAgfSBlbHNlIGlmIChpc0luUHJvZ3Jlc3MpIHtcbiAgICAgIGVucm9sbGVkLnB1c2goY291cnNlKTtcbiAgICB9XG4gICAgLy8gQ291cnNlcyB0aGF0IGFyZSBpbmFjdGl2ZSBhbmQgbm90IGNvbXBsZXRlZCB3b24ndCBhcHBlYXIgaW4gZWl0aGVyIGxpc3RcbiAgfSk7XG5cbiAgLy8gRGVkdXBsaWNhdGUgY29tcGxldGVkIGNvdXJzZXMgKGlmIG11bHRpcGxlIGNvbXBsZXRlZCBlbnJvbGxtZW50cyBleGlzdCBmb3Igb25lIGNvdXJzZSlcbiAgY29uc3QgdW5pcXVlQ29tcGxldGVkID0gQXJyYXkuZnJvbShcbiAgICBjb21wbGV0ZWQucmVkdWNlKChtYXAsIGNvdXJzZSkgPT4ge1xuICAgICAgaWYgKCFtYXAuaGFzKGNvdXJzZS5pZCkpIHsvLyBLZWVwIHRoZSBmaXJzdCBlbmNvdW50ZXJlZCBjb21wbGV0ZWQgcmVjb3JkXG4gICAgICAgIG1hcC5zZXQoY291cnNlLmlkLCBjb3Vyc2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9LCBuZXcgTWFwPHN0cmluZywgQ291cnNlV2l0aFByb2dyZXNzPigpKS52YWx1ZXMoKVxuICApO1xuXG4gIHJldHVybiB7IGVucm9sbGVkLCBjb21wbGV0ZWQ6IHVuaXF1ZUNvbXBsZXRlZCB9O1xufSJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VNZW1vIiwidXNlUm91dGVyIiwiY29sbGVjdGlvbiIsInF1ZXJ5Iiwid2hlcmUiLCJvcmRlckJ5IiwiZ2V0RG9jcyIsIk1haW5MYXlvdXQiLCJDb3Vyc2VHcmlkIiwiQnV0dG9uIiwiU3Bpbm5lciIsInVzZUF1dGgiLCJmaXJlc3RvcmUiLCJnZXRDb3Vyc2VQcm9ncmVzcyIsInBhcnNlRHVyYXRpb25TdHJpbmciLCJDQUNIRV9FWFBJUlkiLCJNeUxlYXJuaW5nUGFnZSIsInJvdXRlciIsInVzZXIiLCJsb2FkaW5nIiwiYXV0aExvYWRpbmciLCJzdGF0ZSIsInNldFN0YXRlIiwiZW5yb2xsZWQiLCJjb21wbGV0ZWQiLCJlcnJvciIsInF1b3RhRXhjZWVkZWQiLCJmZXRjaFVzZXJDb3Vyc2VzIiwidXNlQ2FjaGUiLCJwcmV2IiwiY2FjaGVkIiwiZ2V0Q2FjaGVkQ291cnNlcyIsInVpZCIsImZldGNoRW5yb2xsZWRDb3Vyc2VzIiwiY2FjaGVDb3Vyc2VzIiwiY29uc29sZSIsInRvdGFsTGVhcm5pbmdUaW1lSG91cnMiLCJ0b3RhbFNlY29uZHMiLCJyZWR1Y2UiLCJ0b3RhbCIsImNvdXJzZSIsInNlY29uZHMiLCJkdXJhdGlvbkRldGFpbHMiLCJkdXJhdGlvbiIsInBhcnNlZCIsIk1hdGgiLCJyb3VuZCIsInByb2dyZXNzUGVyY2VudGFnZXMiLCJ0b3RhbENvdXJzZXMiLCJsZW5ndGgiLCJFcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwib25SZXRyeSIsImRpdiIsImNsYXNzTmFtZSIsInN2ZyIsInhtbG5zIiwidmlld0JveCIsImZpbGwiLCJwYXRoIiwiZmlsbFJ1bGUiLCJkIiwiY2xpcFJ1bGUiLCJwIiwidmFyaWFudCIsInNpemUiLCJvbkNsaWNrIiwiaDEiLCJ0aXRsZSIsImNvdXJzZXMiLCJlbXB0eU1lc3NhZ2UiLCJoMiIsImgzIiwic3BhbiIsInN0eWxlIiwid2lkdGgiLCJ1c2VySWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidGltZXN0YW1wIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImFnZSIsIkRhdGUiLCJub3ciLCJwYXJzZUludCIsImNhY2hlRGF0YSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJ0b1N0cmluZyIsImVucm9sbG1lbnRzUmVmIiwiZW5yb2xsbWVudHNRdWVyeSIsImVucm9sbG1lbnRzU25hcHNob3QiLCJlbnJvbGxtZW50RGF0YSIsImRvY3MiLCJtYXAiLCJjb3Vyc2VJZCIsImNvdXJzZU5hbWUiLCJlbnJvbGxlZEF0IiwiZXhwaXJ5RGF0ZSIsInBheW1lbnRJZCIsInN0YXR1cyIsImVucm9sbG1lbnRJZCIsImlkIiwiY291cnNlSWRzIiwiQXJyYXkiLCJmcm9tIiwiU2V0IiwiZSIsImNvdXJzZUJhdGNoZXMiLCJpIiwicHVzaCIsInNsaWNlIiwiY291cnNlUmVzdWx0cyIsImJhdGNoIiwiY291cnNlc1JlZiIsImNvdXJzZXNRdWVyeSIsImNvdXJzZXNTbmFwc2hvdCIsImRvY1NuYXAiLCJkb2NJZCIsImV4aXN0cyIsImNvdXJzZURhdGEiLCJ3YXJuIiwiZXJyIiwiam9pbiIsImNvdXJzZXNNYXAiLCJNYXAiLCJjIiwicmVsZXZhbnRFbnJvbGxtZW50cyIsImZpbHRlciIsImVucm9sbG1lbnQiLCJoYXMiLCJjb3Vyc2VzV2l0aFByb2dyZXNzUHJvbWlzZXMiLCJjb3Vyc2VEZXRhaWwiLCJnZXQiLCJwcm9ncmVzc0RhdGEiLCJwcm9ncmVzc1BlcmNlbnRhZ2UiLCJvdmVyYWxsUHJvZ3Jlc3MiLCJwcm9ncmVzcyIsIm1vZHVsZXNMaXN0IiwiZW5yb2xsZWRDb3VudCIsInJldmlld0NvdW50IiwicmF0aW5nIiwiY291cnNlc1dpdGhQcm9ncmVzcyIsIlByb21pc2UiLCJhbGwiLCJ2YWxpZENvdXJzZXNXaXRoUHJvZ3Jlc3MiLCJmb3JFYWNoIiwiZmluZCIsImlzQ29tcGxldGVkIiwiaXNJblByb2dyZXNzIiwidW5pcXVlQ29tcGxldGVkIiwic2V0IiwidmFsdWVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/my-learning/index.tsx\n"));

/***/ })

});